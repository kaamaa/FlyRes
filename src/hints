Doctrine:

date_default_timezone_set('Europe/Berlin'); // sonst geht Console zusammen mit MAMP nicht

php Dropbox/Symfony/app/console doctrine:mapping:convert xml Dropbox/Symfony/src/kaamaa/FlyResBundle/Resources/config/doctrine/metadata/orm --from-database --force
php Dropbox/Symfony/app/console doctrine:mapping:import kaamaaFlyResBundle  annotation
php Dropbox/Symfony/app/console doctrine:generate:entities kaamaaFlyResBundle


Bundle Installieren:
1.) composer.json im Symfony Root Verzeichnis editieren und die entsprechenden Zeile aufnehmen (z.B. "apy/datagrid-bundle":"dev-master" unter requirer)
2.) Die Datei composer.phar muss im Root von Symfony liegen
3.) im Terminal in das Symfony Root Verzeichnis gehen
4.) php composer.phar update aufrufen
5.) In AppKernel.php das Bundle aufnehmen z.B. ( new APY\DataGridBundle\APYDataGridBundle(),)


aktuell Fehler in der Datei /Users/martin/Dropbox/symfony24/vendor/symfony/symfony/src/Symfony/Component/Intl/NumberFormatter/NumberFormatter.php
manuell augetauscht
 
XDebug

xdebug.remote_host=127.0.0.1
xdebug.remote_handler=dbgp
xdebug.remote_port=9001
xdebug.remote_enable=On
xdebug.remote_autostart=On
xdebug.idekey=netbeans-xdebug 


Firewall ist deaktiviert
NetDebug wurde neu gestartet


MemoryLimit problem
php -d memory_limit=-1 composer.phar update

php bin/console cache:clear

You're all set! From now on, composer will use your own individual personal access token which is stored in $HOME/.composer/auth.json

Homebrew nutzen für Intallationen unter der Commandline

yarn install --force

APY Datagridbundle auf Symphony 5 umstellen:

Service.XML
unter Grid ergänzen um:
<service>
   <service id="%grid.class%" alias="grid" public="true">
</service>

Cache löschen: 
php bin/console cache:clear
Sicherstellen das Service verfügbar ist: 
php bin/console debug:autowiring --all

Grid.php getGridResponse

Ersetze
return $this->container->get('templating')->renderResponse($view, $parameters, $response);

durch
eturn new Response($this->container->get('twig')->render($view, $parameters, $response));

Configuration.php  public function getConfigTreeBuilder

Ersetze
->scalarNode('theme')->defaultValue('APYDataGridBundle::blocks.html.twig')->end() 

durch
->scalarNode('theme')->defaultValue('@APYDataGrid/blocks.html.twig')->end()

Run
php bin/console cache:clear


Github Clone (aufrufen im Verzeichnis in dem das Download erfolgen soll)
git clone https://github.com/kaamaa/APYDataGridBundle.git tmp && mv tmp/.git . && rm -rf tmp && git reset --hard

An exception has been thrown during the rendering of a template ("Notice: Trying to access array offset on value of type null").
das Problem taucht erst mit Symfony 7.4x auf

Das Securitysystem besteht aus mehrern Komponenten:
  - Joomla Plugin zum Login
    - ruft LoginwithCredentilas auf und liefert per JSON, Username und Passwort mit. Als Rückbage gibt es die Session ID 
      die dann in Joomla in das PHP Session ID Cookie gesetzt wird und MD5(des Benutzernmanes) wenn das Login erfolgreuch war
  - Joomla Plugin zum Logout (Löscht das PHPSessID Cookie)


==================================================================
Suchen für Buchungen für einen bestimmten Tag

select fres_aircraft.kennung, fres_booking.itemstart, fres_booking.itemstop, fa1.firstname, fa1.lastname, fres_booking.flightinstructor, fa2.firstname, fa2.lastname, fres_booking.status from fres_booking
INNER JOIN fres_accounts fa1
    ON fa1.id = fres_booking.createdByUserID  
INNER JOIN fres_accounts fa2
    ON fa2.id = fres_booking.flightinstructor 
INNER JOIN fres_aircraft
    ON fres_aircraft.id = fres_booking.aircraftID          
 where fres_booking.clientid = 1 and fres_booking.itemstart BETWEEN '2019-05-25 00:00:00.000000' and '2019-05-27 00:00:00.000000'
ORDER BY fres_booking.itemstart, fres_aircraft.kennung;
